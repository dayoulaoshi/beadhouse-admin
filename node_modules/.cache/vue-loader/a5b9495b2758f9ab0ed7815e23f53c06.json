{"remainingRequest":"/Users/hchen/Desktop/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hchen/Desktop/vue-element-admin/src/views/forgetpassword/forget_ask.vue?vue&type=style&index=0&id=43da5e64&lang=scss&scoped=true&","dependencies":[{"path":"/Users/hchen/Desktop/vue-element-admin/src/views/forgetpassword/forget_ask.vue","mtime":1594129085340},{"path":"/Users/hchen/Desktop/vue-element-admin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hchen/Desktop/vue-element-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hchen/Desktop/vue-element-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hchen/Desktop/vue-element-admin/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hchen/Desktop/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hchen/Desktop/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgJGJnOiMyZDNhNGI7CiRkYXJrX2dyYXk6Izg4OWFhNDsKJGxpZ2h0X2dyYXk6I2VlZTsKCi5sb2dpbi1jb250YWluZXIgewogIG1pbi1oZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogJGJnOwogIG92ZXJmbG93OiBoaWRkZW47CgoubG9naW4tZm9ybSB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHdpZHRoOiA1MjBweDsKICBtYXgtd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogMTYwcHggMzVweCAwOwogIG1hcmdpbjogMCBhdXRvOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KCi50aXBzIHsKICBmb250LXNpemU6IDE0cHg7CiAgY29sb3I6ICNmZmY7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKCnNwYW4gewomOmZpcnN0LW9mLXR5cGUgewogICBtYXJnaW4tcmlnaHQ6IDE2cHg7CiB9Cn0KfQoKLnN2Zy1jb250YWluZXIgewogIHBhZGRpbmc6IDZweCA1cHggNnB4IDE1cHg7CiAgY29sb3I6ICRkYXJrX2dyYXk7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICB3aWR0aDogMzBweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KCi50aXRsZS1jb250YWluZXIgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKCi50aXRsZSB7CiAgZm9udC1zaXplOiAyNnB4OwogIGNvbG9yOiAkbGlnaHRfZ3JheTsKICBtYXJnaW46IDBweCBhdXRvIDQwcHggYXV0bzsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KfQoKLnNob3ctcHdkIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgcmlnaHQ6IDEwcHg7CiAgdG9wOiA3cHg7CiAgZm9udC1zaXplOiAxNnB4OwogIGNvbG9yOiAkZGFya19ncmF5OwogIGN1cnNvcjogcG9pbnRlcjsKICB1c2VyLXNlbGVjdDogbm9uZTsKfQoKLnRoaXJkcGFydHktYnV0dG9uIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgcmlnaHQ6IDA7CiAgYm90dG9tOiA2cHg7Cn0KCkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDcwcHgpIHsKICAudGhpcmRwYXJ0eS1idXR0b24gewogICAgZGlzcGxheTogbm9uZTsKICB9Cn0KfQo="},{"version":3,"sources":["forget_ask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"forget_ask.vue","sourceRoot":"src/views/forgetpassword","sourcesContent":["<template>\n  <div class=\"login-container\">\n    <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" class=\"login-form\" autocomplete=\"on\" label-position=\"left\">\n\n      <div class=\"title-container\">\n        <h3 class=\"title\">密码找回</h3>\n      </div>\n\n      <el-form-item prop=\"username\">\n        <span class=\"svg-container\">\n          <svg-icon icon-class=\"user\" />\n        </span>\n        <el-input\n          ref=\"username\"\n          v-model=\"loginForm.username\"\n          placeholder=\"Username\"\n          name=\"username\"\n          type=\"text\"\n          tabindex=\"1\"\n          autocomplete=\"on\"\n        />\n      </el-form-item>\n\n      <el-form-item prop=\"username\">\n        <span class=\"svg-container\">\n          <svg-icon icon-class=\"user\" />\n        </span>\n        <el-input\n          ref=\"username\"\n          v-model=\"loginForm.question\"\n          placeholder=\"问题\"\n          name=\"ask\"\n          type=\"text\"\n          tabindex=\"1\"\n          autocomplete=\"on\"\n          :disabled=\"true\"\n        />\n      </el-form-item>\n\n      <el-form-item prop=\"username\">\n        <span class=\"svg-container\">\n          <svg-icon icon-class=\"user\" />\n        </span>\n        <el-input\n          ref=\"username\"\n          v-model=\"loginForm.answer\"\n          placeholder=\"回答\"\n          name=\"answer\"\n          type=\"text\"\n          tabindex=\"1\"\n          autocomplete=\"on\"\n        />\n      </el-form-item>\n      <el-button :loading=\"loading\" type=\"primary\" style=\"width:100%;margin-bottom:30px;\" @click.native.prevent=\"handlesubmit\">提交</el-button>\n\n      <div style=\"position:relative\">\n        <div class=\"tips\">\n\n        </div>\n        <div class=\"tips\">\n\n        </div>\n      </div>\n    </el-form>\n\n    <el-dialog title=\"Or connect with\" :visible.sync=\"showDialog\">\n      Can not be simulated on local, so please combine you own business simulation! ! !\n      <br>\n      <br>\n      <br>\n      <social-sign />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { validUsername } from '@/utils/validate'\n  import SocialSign from './components/SocialSignin'\n\n  export default {\n    name: 'forget',\n    components: { SocialSign },\n    data() {\n      return {\n        loginForm: {\n          username: '',\n          question:'',\n          answer:'',\n        },\n        passwordType: 'password',\n        capsTooltip: false,\n        loading: false,\n        showDialog: false,\n        redirect: undefined,\n        otherQuery: {}\n      }\n    },\n    watch: {\n      $route: {\n        handler: function(route) {\n          const query = route.query\n          if (query) {\n            this.redirect = query.redirect\n            this.otherQuery = this.getOtherQuery(query)\n          }\n        },\n        immediate: true\n      }\n    },\n    created() {\n      // window.addEventListener('storage', this.afterQRScan)\n    },\n    mounted() {\n      this.loginForm.username = this.$route.query.username\n      let param = new URLSearchParams()\n      param.append(\"username\", this.loginForm.username)\n      this.$axios.post('http://275w5p6964.wicp.vip/user/forget_get_question.do ',param)\n        .then((res) => {\n          let that = this\n          console.log(\"sussess\")\n          let datalist = res.data\n          if (datalist.status == 1) {\n            alert(\"错误码1\")\n          } else {\n              that.loginForm.question=datalist.data\n          }\n        })\n        .catch((err) => {\n          alert(\"获取数据失败\")\n          console.log(err)\n        })\n      if (this.loginForm.username === '') {\n        this.$refs.username.focus()\n      } else if (this.loginForm.password === '') {\n        this.$refs.password.focus()\n      }\n\n    },\n    destroyed() {\n      // window.removeEventListener('storage', this.afterQRScan)\n    },\n    methods: {\n      handlesubmit()\n      {\n        let param = new URLSearchParams()\n        param.append(\"username\", this.loginForm.username)\n        param.append(\"question\", this.loginForm.question)\n        param.append(\"answer\", this.loginForm.answer)\n          this.$axios.post('http://275w5p6964.wicp.vip/user/forget_check_answer.do', param)\n            .then((res) => {\n              let that = this\n              let datalist = res.data\n              let data=datalist.data\n              alert(datalist.status)\n              this.$router.push({ path: '/forget_new_password',query:  {username:this.loginForm.username,token:data}})\n            })\n            .catch((err) => {\n              alert(\"获取数据失败\")\n              console.log(err)\n            })\n        }\n      },\n      checkCapslock(e) {\n        const { key } = e\n        this.capsTooltip = key && key.length === 1 && (key >= 'A' && key <= 'Z')\n      },\n      showPwd() {\n        if (this.passwordType === 'password') {\n          this.passwordType = ''\n        } else {\n          this.passwordType = 'password'\n        }\n        this.$nextTick(() => {\n          this.$refs.password.focus()\n        })\n      },\n      getOtherQuery(query) {\n        return Object.keys(query).reduce((acc, cur) => {\n          if (cur !== 'redirect') {\n            acc[cur] = query[cur]\n          }\n          return acc\n        }, {})\n      },\n\n      // afterQRScan() {\n      //   if (e.key === 'x-admin-oauth-code') {\n      //     const code = getQueryObject(e.newValue)\n      //     const codeMap = {\n      //       wechat: 'code',\n      //       tencent: 'code'\n      //     }\n      //     const type = codeMap[this.auth_type]\n      //     const codeName = code[type]\n      //     if (codeName) {\n      //       this.$store.dispatch('LoginByThirdparty', codeName).then(() => {\n      //         this.$router.push({ path: this.redirect || '/' })\n      //       })\n      //     } else {\n      //       alert('第三方登录失败')\n      //     }\n      //   }\n      // }\n\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  $bg:#2d3a4b;\n$dark_gray:#889aa4;\n$light_gray:#eee;\n\n.login-container {\n  min-height: 100%;\n  width: 100%;\n  background-color: $bg;\n  overflow: hidden;\n\n.login-form {\n  position: relative;\n  width: 520px;\n  max-width: 100%;\n  padding: 160px 35px 0;\n  margin: 0 auto;\n  overflow: hidden;\n}\n\n.tips {\n  font-size: 14px;\n  color: #fff;\n  margin-bottom: 10px;\n\nspan {\n&:first-of-type {\n   margin-right: 16px;\n }\n}\n}\n\n.svg-container {\n  padding: 6px 5px 6px 15px;\n  color: $dark_gray;\n  vertical-align: middle;\n  width: 30px;\n  display: inline-block;\n}\n\n.title-container {\n  position: relative;\n\n.title {\n  font-size: 26px;\n  color: $light_gray;\n  margin: 0px auto 40px auto;\n  text-align: center;\n  font-weight: bold;\n}\n}\n\n.show-pwd {\n  position: absolute;\n  right: 10px;\n  top: 7px;\n  font-size: 16px;\n  color: $dark_gray;\n  cursor: pointer;\n  user-select: none;\n}\n\n.thirdparty-button {\n  position: absolute;\n  right: 0;\n  bottom: 6px;\n}\n\n@media only screen and (max-width: 470px) {\n  .thirdparty-button {\n    display: none;\n  }\n}\n}\n</style>\n"]}]}